<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agrawal Store - Your Trusted Kirana Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #333;
        }

        /* Header */
        .top-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 0;
            font-size: 14px;
        }

        .top-bar .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .contact-info i {
            margin-right: 5px;
        }

        .contact-info span {
            margin-right: 20px;
        }

        /* Navigation */
        nav {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .search-bar {
            flex: 1;
            max-width: 600px;
            margin: 0 30px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 50px 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 15px;
            transition: all 0.3s;
        }

        .search-bar input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-bar button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
        }

        .nav-actions {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .cart-btn {
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }

        .cart-btn:hover {
            transform: scale(1.05);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Republic Day Banner */
        .republic-banner {
            background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%);
            padding: 60px 20px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            animation: gradientShift 5s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .republic-banner::before {
            content: 'üáÆüá≥';
            position: absolute;
            font-size: 200px;
            opacity: 0.1;
            top: -50px;
            right: 10%;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .republic-banner h1 {
            font-size: 48px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .republic-banner .discount {
            font-size: 72px;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .republic-banner p {
            font-size: 20px;
            margin-bottom: 10px;
        }

        /* Main Content */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .content-wrapper {
            display: flex;
            gap: 30px;
        }

        /* Filters Sidebar */
        .filters {
            width: 280px;
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .filters h3 {
            margin-bottom: 20px;
            color: #667eea;
            font-size: 20px;
        }

        .filter-group {
            margin-bottom: 25px;
        }

        .filter-group h4 {
            margin-bottom: 12px;
            font-size: 16px;
            color: #333;
        }

        .filter-group label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .filter-group label:hover {
            color: #667eea;
        }

        .filter-group input[type="checkbox"] {
            margin-right: 8px;
        }

        .price-inputs {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .price-inputs input {
            width: 100%;
            padding: 8px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }

        .apply-filter {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.2s;
        }

        .apply-filter:hover {
            transform: translateY(-2px);
        }

        /* Products Grid */
        .products-section {
            flex: 1;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-header h2 {
            font-size: 28px;
            color: #333;
        }

        .sort-options select {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            background: #f8f9fa;
        }

        .product-info {
            padding: 18px;
        }

        .product-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            min-height: 40px;
        }

        .product-category {
            font-size: 13px;
            color: #888;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 12px;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .add-to-cart {
            flex: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .add-to-cart:hover {
            transform: scale(1.05);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            right: -450px;
            top: 0;
            width: 450px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 15px rgba(0,0,0,0.2);
            transition: right 0.4s;
            z-index: 2000;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h2 {
            font-size: 24px;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            align-items: center;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #667eea;
            font-weight: bold;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 8px;
        }

        .quantity-controls button {
            width: 30px;
            height: 30px;
            border: 1px solid #e0e0e0;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .remove-item {
            background: #ff4757;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
        }

        .cart-footer {
            padding: 20px;
            border-top: 2px solid #e0e0e0;
            background: #f8f9fa;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .checkout-btn {
            width: 100%;
            background: linear-gradient(135deg, #10ac84 0%, #1dd1a1 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: transform 0.2s;
        }

        .checkout-btn:hover {
            transform: scale(1.02);
        }

        /* WhatsApp Button */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #25D366;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
            cursor: pointer;
            z-index: 1000;
            transition: transform 0.3s;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            padding: 50px 0 20px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 20px;
        }

        .footer-section p, .footer-section a {
            color: #bdc3c7;
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
        }

        .footer-section a:hover {
            color: #667eea;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            background: #34495e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .social-links a:hover {
            background: #667eea;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
        }

        .empty-cart {
            text-align: center;
            padding: 50px 20px;
            color: #888;
        }

        .empty-cart i {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        @media (max-width: 1024px) {
            .content-wrapper {
                flex-direction: column;
            }

            .filters {
                width: 100%;
                position: static;
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }
        }

        @media (max-width: 768px) {
            .search-bar {
                display: none;
            }

            .republic-banner h1 {
                font-size: 32px;
            }

            .republic-banner .discount {
                font-size: 48px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }

            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 26px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="contact-info">
                <span><i class="fas fa-phone"></i> 9057669089</span>
                <span><i class="fas fa-envelope"></i> info@agrawalstore.com</span>
            </div>
            <div>
                <span>üáÆüá≥ Republic Day Sale - 25% OFF on All Items!</span>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-store"></i> Agrawal Store
            </div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search for products...">
                <button onclick="searchProducts()"><i class="fas fa-search"></i></button>
            </div>
            <div class="nav-actions">
                <a href="tel:9057669089" style="color: #667eea; text-decoration: none; font-size: 20px;">
                    <i class="fas fa-phone-alt"></i>
                </a>
                <button class="cart-btn" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i> Cart
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Republic Day Banner -->
    <div class="republic-banner">
        <h1>üáÆüá≥ Republic Day Special üáÆüá≥</h1>
        <div class="discount">25% OFF</div>
        <p>On All Products | Limited Time Offer</p>
        <p>Celebrate with Savings at Agrawal Store!</p>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div class="content-wrapper">
            <!-- Filters Sidebar -->
            <aside class="filters">
                <h3><i class="fas fa-filter"></i> Filters</h3>
                
                <div class="filter-group">
                    <h4>Category</h4>
                    <label><input type="checkbox" class="category-filter" value="staples"> Staples & Grains</label>
                    <label><input type="checkbox" class="category-filter" value="dairy"> Dairy Products</label>
                    <label><input type="checkbox" class="category-filter" value="snacks"> Snacks & Beverages</label>
                    <label><input type="checkbox" class="category-filter" value="spices"> Spices & Masala</label>
                    <label><input type="checkbox" class="category-filter" value="personal"> Personal Care</label>
                    <label><input type="checkbox" class="category-filter" value="household"> Household Items</label>
                </div>

                <div class="filter-group">
                    <h4>Price Range</h4>
                    <div class="price-inputs">
                        <input type="number" id="minPrice" placeholder="Min ‚Çπ">
                        <input type="number" id="maxPrice" placeholder="Max ‚Çπ">
                    </div>
                    <button class="apply-filter" onclick="applyFilters()">Apply Filters</button>
                </div>

                <button class="apply-filter" onclick="clearFilters()" style="background: #ff4757;">
                    Clear All Filters
                </button>
            </aside>

            <!-- Products Section -->
            <section class="products-section">
                <div class="section-header">
                    <h2>All Products</h2>
                    <div class="sort-options">
                        <select id="sortSelect" onchange="sortProducts()">
                            <option value="default">Sort By</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="name">Name: A to Z</option>
                        </select>
                    </div>
                </div>

                <div class="products-grid" id="productsGrid"></div>
            </section>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2><i class="fas fa-shopping-cart"></i> Your Cart</h2>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">
                <i class="fas fa-shopping-basket"></i>
                <h3>Your cart is empty</h3>
                <p>Add some products to get started!</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">‚Çπ0</span>
            </div>
            <button class="checkout-btn" onclick="sendWhatsAppOrder()">
                <i class="fab fa-whatsapp"></i> Order via WhatsApp
            </button>
        </div>
    </div>

    <!-- WhatsApp Float Button -->
    <a href="https://wa.me/919057669089" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Agrawal Store</h3>
                <p>Your trusted neighborhood kirana shop delivering quality products since years.</p>
                <p><i class="fas fa-map-marker-alt"></i> Faridabad, Haryana, India</p>
                <p><i class="fas fa-phone"></i> 9057669089</p>
                <p><i class="fas fa-envelope"></i> info@agrawalstore.com</p>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="#about">About Us</a>
                <a href="#products">Products</a>
                <a href="#offers">Special Offers</a>
                <a href="#contact">Contact Us</a>
            </div>

            <div class="footer-section">
                <h3>Customer Service</h3>
                <a href="#shipping">Shipping Policy</a>
                <a href="#returns">Returns & Refunds</a>
                <a href="#privacy">Privacy Policy</a>
                <a href="#terms">Terms & Conditions</a>
            </div>

            <div class="footer-section">
                <h3>Follow Us</h3>
                <p>Stay connected for updates and offers</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="https://wa.me/919057669089"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 Agrawal Store. All rights reserved. | Managed by Vishal Agrawal</p>
        </div>
    </footer>

  <script>
        // Products Data - Extended to 25 products
        const products = [
            { id: 1, name: "Tata Tea Gold 1kg", category: "snacks", price: 450, image: "https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?w=300&h=300&fit=crop" },
            { id: 2, name: "Fortune Sunflower Oil 1L", category: "staples", price: 180, image: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=300&h=300&fit=crop" },
            { id: 3, name: "Amul Butter 500g", category: "dairy", price: 280, image: "https://images.unsplash.com/photo-1589985270826-4b7bb135bc9d?w=300&h=300&fit=crop" },
            { id: 4, name: "Maggi Noodles Pack of 12", category: "snacks", price: 120, image: "https://images.unsplash.com/photo-1585032226651-759b368d7246?w=300&h=300&fit=crop" },
            { id: 5, name: "India Gate Basmati Rice 5kg", category: "staples", price: 650, image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=300&h=300&fit=crop" },
            { id: 6, name: "Britannia Bread Large", category: "dairy", price: 45, image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=300&h=300&fit=crop" },
            { id: 7, name: "Nestle Milkmaid 400g", category: "dairy", price: 165, image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=300&h=300&fit=crop" },
            { id: 8, name: "MDH Garam Masala 100g", category: "spices", price: 95, image: "https://images.unsplash.com/photo-1596040033229-a0b3b83738f2?w=300&h=300&fit=crop" },
            { id: 9, name: "Parle-G Biscuits Family Pack", category: "snacks", price: 25, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=300&h=300&fit=crop" },
            { id: 10, name: "Chakki Fresh Atta 10kg", category: "staples", price: 420, image: "https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=300&h=300&fit=crop" },
            { id: 11, name: "Colgate Toothpaste 200g", category: "personal", price: 85, image: "https://images.unsplash.com/photo-1622597467836-f3285f2131b8?w=300&h=300&fit=crop" },
            { id: 12, name: "Surf Excel Detergent 2kg", category: "household", price: 320, image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=300&h=300&fit=crop" },
            { id: 13, name: "Coca Cola 2L Bottle", category: "snacks", price: 90, image: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=300&h=300&fit=crop" },
            { id: 14, name: "Amul Taaza Milk 1L", category: "dairy", price: 62, image: "https://images.unsplash.com/photo-1550583724-b2692b85b150?w=300&h=300&fit=crop" },
            { id: 15, name: "Tata Salt 1kg", category: "spices", price: 28, image: "https://images.unsplash.com/photo-1587985064135-0366536eab42?w=300&h=300&fit=crop" },
            { id: 16, name: "Dettol Handwash 200ml", category: "personal", price: 75, image: "https://images.unsplash.com/photo-1584305574293-b96223f8cb8e?w=300&h=300&fit=crop" },
            { id: 17, name: "Everest Chilli Powder 200g", category: "spices", price: 110, image: "https://images.unsplash.com/photo-1599909533730-f9d2b8e6ef86?w=300&h=300&fit=crop" },
            { id: 18, name: "Lays Chips 100g", category: "snacks", price: 40, image: "https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=300&h=300&fit=crop" },
            { id: 19, name: "Vim Dishwash Bar 300g", category: "household", price: 35, image: "https://images.unsplash.com/photo-1631889993959-41b4e9c6e3c5?w=300&h=300&fit=crop" },
            { id: 20, name: "Bru Coffee 200g", category: "snacks", price: 280, image: "https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=300&h=300&fit=crop" },
            { id: 21, name: "Clinic Plus Shampoo 340ml", category: "personal", price: 145, image: "https://images.unsplash.com/photo-1631730486572-226d1f595b68?w=300&h=300&fit=crop" },
            { id: 22, name: "Kissan Tomato Ketchup 950g", category: "snacks", price: 155, image: "https://images.unsplash.com/photo-1594434939168-0c7e5b1a1f6e?w=300&h=300&fit=crop" },
            { id: 23, name: "Lijjat Papad 200g", category: "staples", price: 48, image: "https://images.unsplash.com/photo-1626200419199-391ae4be7a41?w=300&h=300&fit=crop" },
            { id: 24, name: "Good Day Biscuits 200g", category: "snacks", price: 55, image: "https://images.unsplash.com/photo-1486427944299-d1955d23e34d?w=300&h=300&fit=crop" },
            { id: 25, name: "Dove Soap 125g Pack of 3", category: "personal", price: 195, image: "https://images.unsplash.com/photo-1582556323823-83e4fa5a8a0b?w=300&h=300&fit=crop" }
        ];

        // Cart state
        let cart = [];
        let filteredProducts = [...products];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            displayProducts(products);
            updateCartUI();
            
            // Add enter key support for search
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchProducts();
                }
            });
        });

        // Display products
        function displayProducts(productsToDisplay) {
            const grid = document.getElementById('productsGrid');
            
            if (productsToDisplay.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 50px; color: #888;">
                        <i class="fas fa-search" style="font-size: 60px; margin-bottom: 20px; opacity: 0.3;"></i>
                        <h3>No products found</h3>
                        <p>Try adjusting your filters or search terms</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = productsToDisplay.map(product => {
                const discountedPrice = Math.round(product.price * 0.75); // 25% off
                return `
                    <div class="product-card">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-category">${getCategoryName(product.category)}</div>
                            <div class="product-price">
                                <span style="text-decoration: line-through; color: #999; font-size: 16px; margin-right: 8px;">‚Çπ${product.price}</span>
                                ‚Çπ${discountedPrice}
                            </div>
                            <div class="product-actions">
                                <button class="add-to-cart" onclick="addToCart(${product.id})">
                                    <i class="fas fa-cart-plus"></i> Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Get category display name
        function getCategoryName(category) {
            const categories = {
                'staples': 'Staples & Grains',
                'dairy': 'Dairy Products',
                'snacks': 'Snacks & Beverages',
                'spices': 'Spices & Masala',
                'personal': 'Personal Care',
                'household': 'Household Items'
            };
            return categories[category] || category;
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const cartItem = cart.find(item => item.id === productId);
            
            if (cartItem) {
                cartItem.quantity++;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartUI();
            
            // Show a brief animation/feedback
            const btn = event.target.closest('.add-to-cart');
            btn.innerHTML = '<i class="fas fa-check"></i> Added!';
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
            }, 1000);
        }

        // Update cart UI
        function updateCartUI() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-shopping-basket"></i>
                        <h3>Your cart is empty</h3>
                        <p>Add some products to get started!</p>
                    </div>
                `;
                cartTotal.textContent = '‚Çπ0';
            } else {
                cartItems.innerHTML = cart.map(item => {
                    const discountedPrice = Math.round(item.price * 0.75);
                    return `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                            <div class="cart-item-info">
                                <div class="cart-item-name">${item.name}</div>
                                <div class="cart-item-price">‚Çπ${discountedPrice} √ó ${item.quantity} = ‚Çπ${discountedPrice * item.quantity}</div>
                                <div class="quantity-controls">
                                    <button onclick="decreaseQuantity(${item.id})">-</button>
                                    <span>${item.quantity}</span>
                                    <button onclick="increaseQuantity(${item.id})">+</button>
                                </div>
                            </div>
                            <button class="remove-item" onclick="removeFromCart(${item.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                }).join('');
                
                const total = cart.reduce((sum, item) => sum + (Math.round(item.price * 0.75) * item.quantity), 0);
                cartTotal.textContent = `‚Çπ${total}`;
            }
        }

        // Increase quantity
        function increaseQuantity(productId) {
            const cartItem = cart.find(item => item.id === productId);
            if (cartItem) {
                cartItem.quantity++;
                updateCartUI();
            }
        }

        // Decrease quantity
        function decreaseQuantity(productId) {
            const cartItem = cart.find(item => item.id === productId);
            if (cartItem) {
                if (cartItem.quantity > 1) {
                    cartItem.quantity--;
                } else {
                    removeFromCart(productId);
                }
                updateCartUI();
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
        }

        // Toggle cart sidebar
        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.toggle('active');
        }

        // Search products
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const searchResults = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) ||
                getCategoryName(product.category).toLowerCase().includes(searchTerm)
            );
            filteredProducts = searchResults;
            applyFilters();
        }

        // Sort products
        function sortProducts() {
            const sortValue = document.getElementById('sortSelect').value;
            let sortedProducts = [...filteredProducts];
            
            switch(sortValue) {
                case 'price-low':
                    sortedProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    sortedProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'name':
                    sortedProducts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
            }
            
            displayProducts(sortedProducts);
        }

        // Apply filters
        function applyFilters() {
            const selectedCategories = Array.from(document.querySelectorAll('.category-filter:checked'))
                .map(cb => cb.value);
            
            const minPrice = parseInt(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseInt(document.getElementById('maxPrice').value) || Infinity;
            
            let filtered = [...filteredProducts];
            
            if (selectedCategories.length > 0) {
                filtered = filtered.filter(product => selectedCategories.includes(product.category));
            }
            
            filtered = filtered.filter(product => {
                const discountedPrice = Math.round(product.price * 0.75);
                return discountedPrice >= minPrice && discountedPrice <= maxPrice;
            });
            
            displayProducts(filtered);
        }

        // Clear filters
        function clearFilters() {
            document.querySelectorAll('.category-filter').forEach(cb => cb.checked = false);
            document.getElementById('minPrice').value = '';
            document.getElementById('maxPrice').value = '';
            document.getElementById('searchInput').value = '';
            document.getElementById('sortSelect').value = 'default';
            filteredProducts = [...products];
            displayProducts(products);
        }

        // Send WhatsApp order
        function sendWhatsAppOrder() {
            if (cart.length === 0) {
                alert('Your cart is empty! Please add some products first.');
                return;
            }
            
            let message = '*üõí New Order from Agrawal Store*\n\n';
            message += '*Republic Day Sale - 25% OFF Applied!*\n\n';
            message += '*Items:*\n';
            
            cart.forEach((item, index) => {
                const discountedPrice = Math.round(item.price * 0.75);
                message += `${index + 1}. ${item.name}\n`;
                message += `   Qty: ${item.quantity} √ó ‚Çπ${discountedPrice} = ‚Çπ${discountedPrice * item.quantity}\n\n`;
            });
            
            const total = cart.reduce((sum, item) => sum + (Math.round(item.price * 0.75) * item.quantity), 0);
            message += `*Total Amount: ‚Çπ${total}*\n\n`;
            message += 'Please confirm my order. Thank you! üôè';
            
            const whatsappUrl = `https://wa.me/919057669089?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Close cart when clicking outside
        document.addEventListener('click', function(event) {
            const cartSidebar = document.getElementById('cartSidebar');
            const cartBtn = document.querySelector('.cart-btn');
            
            if (cartSidebar.classList.contains('active') && 
                !cartSidebar.contains(event.target) && 
                !cartBtn.contains(event.target)) {
                cartSidebar.classList.remove('active');
            }
        });
    </script>
    </body>
    </html>
